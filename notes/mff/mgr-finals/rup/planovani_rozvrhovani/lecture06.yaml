deck: All::Magisterské státnice::Řešení úloh a plánování::Plánování a rozvrhování::Přednáška 6
notes:
        # planovani a rozvrhovani lecture06
        -
                uuid: bfc4332e-5d35-4f43-bda3-bd05086a909d
                topic: Plánování jako SAT
                front: Co je problém při kódování plánování do SAT/CSP? Jak se to vyřeší?
                back: >
                        SAT/CSP jsou statické. Budeme hledat jenom plány
                        do nějaké maximální délky.
        -
                uuid: 6b2504bf-e38e-4c51-8c5d-4c6a3337f777
                topic: Plánování jako SAT
                front: >
                        Kódování plánování jako SAT
                back: >
                        Atomy kódujeme jako výrokovou proměnnou s jejich časem (fluenty).
                        <br>
                        Nezapomeneme zahrnout negaci věcí, co neplatí.
                        <br>
                        Zakódujeme přechody a přidáme ke každému novou proměnnou,
                        která říká, jaká akce udělala přechod.
                        <br>
                        Vyloučíme dělat dvě akce zároveň.
                        <br>
                        Frame axioms.
        -
                uuid: 80193da3-fdfe-4d45-abc6-2ce0486fdc70
                topic: Plánování jako SAT
                front: Frame axioms -- dva způsoby
                back: >
                        <ul>*Klasické*: proměnné co nejsou efekty
                        se nemění [$](p\\not\\in \\mathrm{eff}^+(a))::
                                a_i \\rightarrow (p_i \\leftrightarrow p_{i+1})[/$];
                        vyber nějakou akci: [$]\\bigvee\\{a_i : a\\in A\\}[/$]
                        <li>
                        *S vysvětlením*: atom se mění jenom akcemi:
                        [$] (\\neg p_i \\wedge p_{i+1}) \\rightarrow (\\bigvee \\{a_i: p\\in\\mathrm{eff}^+(a)\\})[/$]
                        a analogicky pro [$]\\mathrm{eff}^-[/$].
                        <br>
                        Zde stačí axiom *konfliktního vyloučení*:
                        nedělat najednou závislé akce.
        -
                uuid: b99d6e34-e2fb-4e2a-8977-e8192f6a2c3e
                front: Co se používá víc? Plánování jako SAT, nebo jako CSP?
                back: Plánování jako CSP
        -
                uuid: 6fb7a79a-87f7-47b6-a9b5-9902749c9ba4
                topic: Plánování jako SAT
                front: Jak zmenšit počet proměnných pro reprezentaci akcí jako SAT?
                back: >
                        Z three-place akční proměnné (posuň robota [$]r[/$] z [$]loc_1[/$] do [$]loc_2[/$])
                        udělej tři one-place akční proměnné (posuň [$]r[/$], z [$]loc_1[/$], do [$]loc_2[/$]).
                        Různé akce teď sdílejí proměnné, a jde to i mezi
                        akcemi různého typu (třeba move/fly).
        -
                uuid: b851c651-d119-4dd6-ba1d-ad07c36997d6
                topic: Plánování jako CSP
                front: Rozdíl CSP reprezentace od SAT
                back: >
                        Stavové proměnné: například pozice robota, atd.<br>
                        Neměnné vztahy se popisují relacemi. Operátory
                        dělají změny stavových proměnných.
        -
                uuid: fc31ffb0-fa12-4800-beae-500e1f46decd
                topic: Plánování jako CSP
                front: Jak v CSP kódujeme akce?
                back: >
                        Jako podmínky mezi frame axiomy.
        -
                uuid: 0fd530e3-8094-40ce-87c4-c055c0707b37
                topic: Plánování jako SAT/CSP
                front: Na co nesmíme zapomenout při kódování jako CSP/SAT?
                back: >
                        Axiomy rámce
        -
                uuid: 6271c929-aaf6-4836-b1fe-6cba8cf1aabe
                topic: Plánování jako CSP
                front: Kde je dobře použitelné plánování jako CSP?
                back: >
                        *V prostoru plánů*: test konzistence (rychlý ale neúplný).
                        (Úplný jde udělat až na úplném plánu.)
                        <br>
                        *S plánovacím grafem*: použijeme CSP na extrakci.
        -
                uuid: 0eaf5364-c57f-4d4a-b6c8-35653a897312
                topic: Graphplan jako CSP
                front: Kódování do CSP - role proměnných, domén, omezujících podmínek
                back: >
                        Proměnné: výroky ve stavových vrstvách.
                        <br>
                        Domény: akce, které mají atom jako pozitivní efekt,
                        [$]\\perp[/$] pro neaktivní atom.
                        <br>
                        Omezující podmínky: spojují pozitivní efekty s
                        předpoklady akce; mutexy.
        -
                uuid: 7373e1b3-4933-4c33-b38c-623723445edd
                topic: Graphplan jako CSP
                front: Kódování do CSP - přesné podmínky
                back: >
                        <ul>
                        <li>
                        *Splnění podmínek*:
                        [$]p_{4,m}=a \\longrightarrow p_{1,m-1}\\neq\\perp\\wedge
                        p_{2,m-1}\\neq\\perp[/$]:
                        akce má předpoklady [$]p_1[/$], [$]p_2[/$] a pozitivní
                        efekt [$]p_4[/$]; přidám podmínku pro každý pozitivní efekt.
                        <li>
                        *Mutex mezi atomy*: [$]p_{i,m}=\\perp\\vee p_{j,m}=\\perp[/$]
                        <li>
                        *Akce jsou mutex*, provaž jejich pozitivní efekty:
                        [$]p_{i,m}\\neq a\\vee p_{j,m}\\neq b[/$]
                        <li>
                        *Cíl*: [$]p_{i,k}\\neq\\perp[/$] ([$]k[/$] je
                        poslední vrstva).
                        <li>
                        V jedné vrstvě je přiřazena proměnným maximálně jedna
                        akce jiná než no-op (tj., žádné paralelní akce).
                        Minimálně jedna akce jiná než no-op na vrstvu (žádné
                        prázdné vrstvy).
                        </ul>
        -
                uuid: d30a0b9f-3881-4c10-8aeb-d2f86a0125d5
                topic: Graphplan jako BCSP
                front: BCSP proměnné, domény, co dělají podmínky
                back: >
                        Boolean proměnné pro akční uzly a výrokové uzly
                        ([$]A_{j,m}, P_{j,n}[/$]).
                        <br>
                        True: akce/výrok je aktivní.
                        <br>
                        Podmínky kódují mutexy, spojují akce s předpoklady
                        a pozitivními efekty.
        -
                uuid: cd07db05-30ad-44d1-9ecf-912454c1df00
                topic: Graphplan jako BCSP
                front: BCSP podmínky
                back: >
                        Pro předpoklady akce: [$]A_{i,m}\\rightarrow P_{j,m-1}[/$]<br>
                        Podmínky pro následující stav:
                        [$$]p_{i,m}\\leftrightarrow (\\bigvee_{p_i\\in\\mathrm{eff}^+(a_j)} A_{j,m})
                        \\vee (p_{i,m-1} \\wedge (\\bigvee_{p_i\\in\\mathrm{eff}^-(a_j)} \\neg A_{j,m}))[/$$]
                        <br>
                        (Stav je aktivní, byl-li přidán a nebyl-li smazán.)
                        (Nepoužívám no-opy.)
                        Podmínky pro mutex jsou potřeba, abych nedovolil zároveň smazat a přidat.<br>
                        Mutex: [$]\\neg A_{i,m} \\vee \\neg A_{j,m}[/$],
                        [$]\\neg P_{i,n} \\vee \\neg P_{j,n}[/$]
                        <br>
                        Nastavení počátečních a koncových atomů.
                        <br>
                        Žádné paralelní akce a žádné prázdné vrstvy.
        -
                uuid: 6df84a72-3b04-4892-96a5-793fbd68bb2a
                front: Porovnání kódování Graphplan jako CSP a SAT
                back: >
                        CSP kódování je kompaktnější. Nepotřebuje axiomy vyloučení akcí (protože na to je proměnná).<br>
        -
                uuid: 1e7ecb60-bcd1-409f-8dbe-d10d7e058d42
                front: CSP, SAT jsou NP-c, ale plánování je PSPACE- nebo NEXPTIME-c. Jak to?
                back: >
                        Převod plánování na SAT/CSP exponenciálně zvětší problém.
                        V SATu se exponenciálně zvětší počet proměnných,
                        v CSP je proměnných sice lineárně hodně, ale narůstají
                        domény.
